<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Line Set-Up</title>
  <link rel="stylesheet" href="style.css">
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const today = new Date().toISOString().split("T")[0];
      const dateInput = document.getElementById("lineSetupDate");
      if (dateInput) dateInput.value = today;
    });
  </script>
</head>
<body>

<div style="position: fixed; top: 10px; left: 10px; z-index: 1000; display: flex; gap: 10px;">
  <button id="backBtn" class="btn btn-small" title="Go back">‚¨ÖÔ∏è Back</button>
  <button id="nextBtn" class="btn btn-small" title="Go to reporting">Next ‚û°Ô∏è</button>
</div>



<div style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
  <button id="refreshBtn" class="btn btn-small" title="Refresh view">üîÑ Refresh</button>
</div>

<h1 class="page-title" style="text-align: center;">Line Set-Up</h1>

<div class="setup-wrapper" style="max-width: 800px; margin: auto;">

  <!-- Line + Date (centered) -->
  <div class="line-form-row">
    <div>
      <label for="lineSelect">Select Line</label><br>
      <select id="lineSelect">
        <option value="">--Choose Line--</option>
        <option value="1">Line No.1</option>
        <option value="2">Line No.2</option>
        <option value="3">Line No.3</option>
        <option value="4">Line No.4</option>
        <option value="5">Line No.5</option>
      </select>
    </div>
    <div>
      <label for="lineSetupDate">Date</label><br>
      <input type="date" id="lineSetupDate">
    </div>
  </div>

  <!-- Add Employee (top right above activity/employee buttons) -->
  <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
    <button id="addEmployeeBtn" class="btn btn-small">Add Employee</button>
  </div>

  <!-- Select Activity + Select Employees (centered with gap) -->
  <div class="select-buttons">
  <button id="activityToggle">+ Select Activity</button>
  <button id="employeeToggle">+ Select Employees</button>
</div>

  <!-- Activity + Employee checkboxes side by side -->
<div class="panel-wrapper">
  <div id="activityCheckboxGroup" class="activity-box">
    <!-- Injected by JS -->
  </div>
  <div id="employeeCheckboxGroup" class="employee-box">
    <!-- Injected by JS -->
  </div>
</div>



  <!-- Edit Line + Add + Show Line -->
  <!-- Edit Line + Add + Show Line (tight spacing near table) -->
<!-- Edit Line (left) + Add (right) -->
<!-- Hidden group: Edit Line + Add + Show Line + Set Line -->
<div id="lineActionGroup" style="display: none;">
  <div class="form-row" style="display: flex; justify-content: space-between; align-items: center; gap: 20px; margin-bottom: 10px;">
    <button id="editLineBtn" class="btn btn-small">Edit Line</button>

    <div id="showLineContainer" style="display: none;">
      <label for="showLineSelect" style="font-weight: 500;">Show Line</label><br>
      <select id="showLineSelect" class="btn btn-small">
        <option value="">--Choose Line--</option>
      </select>
    </div>

    <button id="manualAddBtn" class="btn btn-small">+ Add</button>
  </div>

  <div id="setLineDiv" class="setline-section" style="text-align: center;">
    <button class="btn" id="setLineBtn">Set Line</button>
    <div id="setLineMsg" class="status-msg"></div>
  </div>
</div>



  <!-- Table -->
  <div id="lineTableContainer" class="table-section" style="margin-bottom: 20px;">
    <table id="employeeTable">
      <thead>
        <tr>
          <th>Employee Name</th>
          <th>Activity</th>
          <th>Code</th>
        </tr>
      </thead>
      <tbody id="employeeTableBody"></tbody>
    </table>
  </div>


</div>

<script>
  const backBtn = document.getElementById("backBtn");
  if (backBtn) {
    backBtn.addEventListener("click", () => {
      window.location.href = "index.html";
    });
  }

  const nextBtn = document.getElementById("nextBtn");
  if (nextBtn) {
    nextBtn.addEventListener("click", () => {
      window.location.href = "line-reporting.html";
    });
  }
</script>
<script src="form.js"></script>

<script src="form.js"></script>
</body>
</html>
